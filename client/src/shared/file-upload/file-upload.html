<div class="flex w-full gap-6 min-h-100">
  <div class="flex items-center gap-4 w-1/3">
    <label
      (dragover)="onDragOver($event)"
      (dragleave)="onDragLeave($event)"
      (drop)="onDrop($event)"
      [class.border-purple-600]="isDragging"
      [class.border-4]="isDragging"
      [class]="isDragging ? 'bg-secondary/5' : ''"
      class="flex flex-col items-center justify-center w-full border-2 border-gray-300 h-full border-dashed rounded-lg cursor-pointer"
    >
      <p class="mg-2 text-lg">Puxe o arquivo ou clique para carregar</p>
      <input #fileInput type="file" class="hidden" (change)="onFileSelected($event)"/>
    </label>
  </div>

  @if(fileScr()) {
  <div class="flex flex-col w-1/3 gap-3">
    <div class="flex justify-center border-2 border-gray-300 rounded-lg">
      <img
        src="{{ fileScr() }}"
        alt="image preview"
        class="aspect-square object-cover rounded-lg"
      />
    </div>

    <input
      type="text"
      placeholder="Nome do documento"
      class="input input-bordered w-full"
      [(ngModel)]="fileName"
    />
    <div class="flex w-full gap-3">
      <button class="btn flex-1" (click)="onCancel()">Cancelar</button>
      <button
        class="btn btn-primary flex-1"
        (click)="onUploadFile()"
        [disabled]="loading()"
      >
        @if(loading()) {
        <span class="loading loading-spinner"></span>
        } Salvar
      </button>
    </div>
  </div>
  }
</div>
